<header class="main-nav">
    <div class="sidebar-user text-center">
        <a class="setting-primary" href="/UserProfMgnt/UserProfile">
            <i data-feather="settings"></i>
        </a>
        <img id="cmmsProPic" class="img-90 rounded-circle" src="~/assets/images/dashboard/1.png" alt="CMMS User Pic" onerror="cMMSProfImgError(this);" />
        <div class="badge-bottom"><span class="badge badge-primary"></span></div><a href="/UserProfMgnt/UserProfile">
            <h6 class="mt-3 f-14 f-w-600" id="cmms_username"></h6>
        </a>
        <p class="mb-0 font-roboto f-w-600" id="cmms_rolename"></p>
    </div>
    <nav>
        <div class="main-navbar" id="pageCMMSSideBarDiv">
            <div class="left-arrow" id="left-arrow"><i data-feather="arrow-left"></i></div>
            <div id="mainnav">
                <ul class="nav-menu custom-scrollbar">
                    <li class="back-btn">
                        <div class="mobile-back text-end"><span>Back</span><i class="fa fa-angle-right ps-2" aria-hidden="true"></i></div>
                    </li>
                    <li class="dropdown">
                        @if ((await authorizationService.AuthorizeAsync(User, "ViewDashboardV1")).Succeeded)
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="home"></i><span>Dashboard</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewDashboardV1")).Succeeded)
                            {
                                <li><a href="/Home/Index">Home</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if (((await authorizationService.AuthorizeAsync(User, "ViewProjectList")).Succeeded) ||
              ((await authorizationService.AuthorizeAsync(User, "AddNewProject")).Succeeded) ||
              ((await authorizationService.AuthorizeAsync(User, "ViewTaskApprovalList")).Succeeded))
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="box"></i><span>Project</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewProjectList")).Succeeded)
                            {
                                <li><a href="/ProjectMgnt/ProjectList">Project List</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "AddNewProject")).Succeeded)
                            {
                                <li><a href="/ProjectMgnt/CreateNewProject">Create New </a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewTaskApprovalList")).Succeeded)
                            {
                                <li><a href="/ProjectMgnt/TaskApproval">Task Approval</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if (((await authorizationService.AuthorizeAsync(User, "ViewItemInventory")).Succeeded) ||
                ((await authorizationService.AuthorizeAsync(User, "AddItemInventory")).Succeeded) ||
                ((await authorizationService.AuthorizeAsync(User, "EditItemInventory")).Succeeded))
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="server"></i><span>Inventory</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewItemInventory")).Succeeded)
                            {
                                <li><a href="/ItemInventory/ItemInventoryMgnt">Item Inventory</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if ((await authorizationService.AuthorizeAsync(User, "ViewEStore")).Succeeded)
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="shopping-bag"></i><span>Store</span></a>
                            <ul class="nav-submenu menu-content">
                                <li><a href="/EStore/ItemList">Item List</a></li>
                                <li><a href="/EStore/ItemCompare">Item Compare</a></li>
                                <li><a href="/EStore/CartView">Cart</a></li>
                                <li><a href="/EStore/OrderHistory">Order History</a></li>
                            </ul>
                        }
                    </li>
                    <li class="dropdown">
                        @if ((await authorizationService.AuthorizeAsync(User, "ViewOrderManagement")).Succeeded)
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="airplay"></i><span>Order</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewOrderManagement")).Succeeded)
                            {
                                <li><a href="/OrderMgnt/OrderMgnt">Order Management</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if ((await authorizationService.AuthorizeAsync(User, "ViewAdvMgnt")).Succeeded)
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="image"></i><span>Advertisement</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewAdvMgnt")).Succeeded)
                            {
                                <li><a href="/AdvMgnt/AdvManagement">Ad Management</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if (((await authorizationService.AuthorizeAsync(User, "ViewUserProfile")).Succeeded) ||
                       ((await authorizationService.AuthorizeAsync(User, "ViewUserChangePassword")).Succeeded))
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="user"></i><span>User Settings</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewUserProfile")).Succeeded)
                            {
                                <li><a href="/UserProfMgnt/UserProfile">User Profile</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewUserChangePassword")).Succeeded)
                            {
                                <li><a href="/UserProfMgnt/UserChangePassword">Change Password</a></li>
                            }
                        </ul>
                    </li>
                    <li class="dropdown">
                        @if (((await authorizationService.AuthorizeAsync(User, "ViewUserManagement")).Succeeded) ||
                        ((await authorizationService.AuthorizeAsync(User, "ViewUserRolePermission")).Succeeded) ||
                        ((await authorizationService.AuthorizeAsync(User, "ViewUserPermission")).Succeeded))
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="users"></i><span>User Admin</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewUserManagement")).Succeeded)
                            {
                                <li><a href="/UserMgntAdmin/UserMgnt">User Management</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewUserRolePermission")).Succeeded)
                            {
                                <li><a href="/UserMgntAdmin/UserRolePermissions">Role Permissions</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewUserPermission")).Succeeded)
                            {
                                <li><a href="/UserMgntAdmin/Permissions">Permissions</a></li>
                            }
                        </ul>
                    </li>
                    @*<li class="dropdown">
                        <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="folder-plus"></i><span>Master Files</span></a>
                        <ul class="nav-submenu menu-content">
                        </ul>
                    </li>*@
                    <li class="dropdown">
                        @if (((await authorizationService.AuthorizeAsync(User, "ViewReportProjectOverview")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportProjectProgress")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportContractorReview")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportSales")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportOrderStatus")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportInventory")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportCustomer")).Succeeded) ||
                      ((await authorizationService.AuthorizeAsync(User, "ViewReportPopularItem")).Succeeded)) 
                        {
                            <a class="nav-link menu-title" href="javascript:void(0)"><i data-feather="layers"></i><span>Reports</span></a>
                        }
                        <ul class="nav-submenu menu-content">
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportProjectOverview")).Succeeded)
                            {
                                <li><a href="/Report/ProjectOverview">Project Overview</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportProjectProgress")).Succeeded)
                            {
                                <li><a href="/Report/ProjectProgress">Project Progress</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportContractorReview")).Succeeded)
                            {
                                <li><a href="/Report/ContractorReview">Contractor Review</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportSales")).Succeeded)
                            {
                                <li><a href="/Report/Sales">Sales</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportOrderStatus")).Succeeded)
                            {
                                <li><a href="/Report/OrderStatus">Order Status</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportInventory")).Succeeded)
                            {
                                <li><a href="/Report/Inventory">Inventory</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportCustomer")).Succeeded)
                            {
                                <li><a href="/Report/Customer">Customer</a></li>
                            }
                            @if ((await authorizationService.AuthorizeAsync(User, "ViewReportPopularItem")).Succeeded)
                            {
                                <li><a href="/Report/PopularItem">Popular Item</a></li>
                            }
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="right-arrow" id="right-arrow"><i data-feather="arrow-right"></i></div>
        </div>
    </nav>
</header>